{"version":3,"sources":["config.js","components/MyNavbar.js","components/Home.js","components/auth/Signin.js","components/auth/Signup.js","components/ChatBox.js","components/chess/MyMoves.js","components/chess/MyEngineBoard.js","components/chess/MyHumanBoard.js","components/Game.js","components/user/PrivateProfile.js","components/user/Edit.js","components/App.js","index.js"],"names":["API_URL","URL","MyNavbar","props","Nav","className","to","src","style","width","loggedUser","onClick","onLogout","_id","username","toUpperCase","Home","Button","size","variant","uuidv4","Signin","useEffect","onUnmount","Form","onSubmit","onSignin","Group","controlId","Label","Control","name","type","placeholder","errorMsg","Alert","Signup","socket","onSignup","CONNECTION_PORT","ChatBox","Spinner","animation","role","room","match","params","id","userName","useState","message","setMessage","messageList","setMessageList","io","emit","on","data","sendMessage","a","messageContent","content","author","Card","ListGroup","map","val","Item","InputGroup","FormControl","onChange","e","target","value","Append","MyMoves","game","turn","moves","STOCKFISH","window","HumanVsStockfish","fen","setFen","setMoves","setTurn","Chess","engineGame","prepareMove","pgn","options","announced_game_over","engine","Worker","stockfishjs","evaler","engineStatus","time","wtime","btime","winc","binc","clockTimeoutID","uciCmd","cmd","which","postMessage","clockTick","t","clockColor","startTime","Date","now","setTimeout","get_moves","history","verbose","i","length","move","from","promotion","setInterval","game_over","clearTimeout","elapsed","Math","max","stopClock","depth","nodes","onmessage","event","line","substr","engineLoaded","engineReady","search","score","parseInt","toFixed","abs","start","children","position","handleDrop","sourceSquare","targetSquare","Promise","resolve","then","MyEngineBoard","roomId","playerColor","onDrop","orientation","boardStyle","borderRadius","boxShadow","HumanVsHuman","dropSquareStyle","setDropSquareStyle","squareStyles","setSquareStyles","pieceSquare","setHistory","movesPGN","setMovesPGN","setOrientation","white","setWhite","black","setBlack","spectator","color","loggedUser_id","push","load_pgn","handleMouseOverSquare","square","squaresToHighlight","highlightStyles","reduce","c","background","squareStyling","highlightSquare","handleMouseOutSquare","handleSquareRightClick","backgroundColor","handleDragOverSquare","MyHumanBoard","onMouseOverSquare","onMouseOutSquare","onSquareRightClick","onDragOverSquare","Game","path","PrivateProfile","games","setGames","axios","get","withCredentials","res","console","log","Img","image","Body","Title","Text","about","movetext","Edit","File","label","withRouter","setLoggedUser","setErrorMsg","handleSignup","preventDefault","email","password","post","catch","err","response","error","handleSignin","handleEdit","imageFile","files","uploadForm","FormData","append","newInfo","patch","handleUnmount","exact","render","routeProps","PublicProfile","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ab141e56.chunk.js","sourcesContent":["// Testing.\n// export const API_URL = \"http://localhost:5000/api\";\n// export const URL = \"http://localhost:5000/\";\n\n// Deployment.\nexport const API_URL = \"https://ironchess.herokuapp.com/api\";\nexport const URL = \"https://ironchess.herokuapp.com/\";\n","/*    Navbar.    */\n\n// Setup.\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\n// Styles.\nimport Nav from \"react-bootstrap/Nav\";\nimport \"../styles/MyNavbar.css\";\n\n// Main function.\nfunction MyNavbar(props) {\n  return (\n    <Nav className=\"myNav\">\n      <Link to=\"/\">\n        <img src=\"https://i.imgur.com/cy6a0Hk.png\" style={{ width: \"200px\" }} />\n      </Link>\n      <div className=\"userButtons\">\n        {props.loggedUser ? (\n          <>\n            <Link onClick={props.onLogout}>LOG OUT</Link>\n            <Link to={`/private/${props.loggedUser._id}`}>\n              {props.loggedUser.username.toUpperCase()}\n            </Link>\n          </>\n        ) : (\n          <>\n            <Link to=\"/signin\">SIGN IN</Link>\n            <Link to=\"/signup\">SIGN UP</Link>\n          </>\n        )}\n      </div>\n    </Nav>\n  );\n}\n\nexport default MyNavbar;\n","/*    Home.    */\n\n// Setup.\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { v4 as uuidv4 } from \"uuid\";\n\n// Styles.\nimport { Button } from \"react-bootstrap\";\nimport \"../styles/Home.css\";\n\n// Main function.\nfunction Home(props) {\n  let color = \"w\";\n\n  return (\n    <div className=\"myHome\">\n      <div className=\"selectButtons\">\n        <Link to=\"/stockfish\">\n          <Button size=\"lg\" variant=\"danger\" className=\"vsButton\">\n            <img src=\"https://i.imgur.com/Vg9707Z.png\" />\n          </Button>\n        </Link>\n\n        <Link to={`/game/${uuidv4()}/${color}`}>\n          <Button size=\"lg\" variant=\"primary\" className=\"vsButton\">\n            <img src=\"https://i.imgur.com/Z8tiVGJ.png\" />\n          </Button>\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n","/*    Sign in.    */\n\n// Setup.\nimport React, { useEffect } from \"react\";\n\n// Styles.\nimport { Button, Form } from \"react-bootstrap\";\nimport \"../../styles/Auth.css\";\n\n// Main function.\nfunction Signin(props) {\n  useEffect(() => {\n    return props.onUnmount;\n  }, []);\n\n  return (\n    <div className=\"myFormContainer\">\n      <Form onSubmit={props.onSignin} className=\"myForm\">\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>Email address</Form.Label>\n          <Form.Control name=\"email\" type=\"text\" placeholder=\"Enter email\" />\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n          />\n        </Form.Group>\n\n        <Button variant=\"primary\" type=\"submit\">\n          Submit\n        </Button>\n\n        {props.errorMsg ? (\n          <Alert variant=\"danger\">{props.errorMsg}</Alert>\n        ) : null}\n      </Form>\n    </div>\n  );\n}\n\nexport default Signin;\n","/*    Sign up.    */\n\n// Setup.\nimport React from \"react\";\n\n// Styles.\nimport { Alert, Button, Form } from \"react-bootstrap\";\n\n// Main function.\nfunction Signup(props) {\n  return (\n    <div className=\"myFormContainer\">\n      <Form onSubmit={props.onSignup} className=\"myForm\">\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>Email address</Form.Label>\n          <Form.Control name=\"email\" type=\"text\" placeholder=\"Enter email\" />\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>Username</Form.Label>\n          <Form.Control\n            name=\"username\"\n            type=\"text\"\n            placeholder=\"Enter username\"\n          />\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n          />\n        </Form.Group>\n\n        <Button variant=\"primary\" type=\"submit\">\n          Submit\n        </Button>\n\n        {props.errorMsg ? (\n          <Alert variant=\"danger\">{props.errorMsg}</Alert>\n        ) : null}\n      </Form>\n    </div>\n  );\n}\n\nexport default Signup;\n","/*    ChatBox component.    */\n\n// Setup.\nimport React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport \"../styles/ChatBox.css\";\nimport { URL } from \"../config\";\n\n// Styles.\nimport {\n  Button,\n  Card,\n  FormControl,\n  InputGroup,\n  ListGroup,\n  Spinner,\n} from \"react-bootstrap\";\n\n// Socket.IO setup.\nlet socket;\nconst CONNECTION_PORT = `${URL}`;\n\n// Main function.\nfunction ChatBox(props) {\n  // Loading spinner.\n  if (!props.loggedUser) {\n    return (\n      <Spinner animation=\"border\" role=\"status\" variant=\"light\">\n        <span className=\"sr-only\">Loading...</span>\n      </Spinner>\n    );\n  }\n\n  const room = props.match.params.id;\n  const userName = props.loggedUser.username;\n\n  // After login.\n  const [message, setMessage] = useState(\"\");\n  const [messageList, setMessageList] = useState([]);\n\n  // componentDidMount.\n  useEffect(() => {\n    socket = io(CONNECTION_PORT);\n    socket.emit(\"join_room\", room);\n  }, [CONNECTION_PORT]);\n\n  // componentDidUpdate.\n  useEffect(() => {\n    socket.on(\"receive_message\", (data) => {\n      setMessageList([...messageList, data]);\n    });\n  });\n\n  const sendMessage = async () => {\n    let messageContent = {\n      room: room,\n      content: {\n        author: userName,\n        message: message,\n      },\n    };\n\n    await socket.emit(\"send_message\", messageContent);\n    setMessageList([...messageList, messageContent.content]);\n    setMessage(\"\");\n  };\n\n  return (\n    <Card className=\"myChatBoxCard\">\n      <ListGroup>\n        {messageList.map((val) => {\n          return (\n            <ListGroup.Item\n              variant={val.author == userName ? \"primary\" : \"success\"}\n            >\n              <b>{val.author}:</b> {val.message}\n            </ListGroup.Item>\n          );\n        })}\n      </ListGroup>\n\n      <InputGroup className=\"mb-3\" className=\"myChatInput\">\n        <FormControl\n          type=\"text\"\n          onChange={(e) => {\n            setMessage(e.target.value);\n          }}\n          placeholder=\"WRITE...\"\n        />\n        <InputGroup.Append>\n          <Button onClick={sendMessage} variant=\"primary\">\n            Send\n          </Button>\n        </InputGroup.Append>\n      </InputGroup>\n    </Card>\n  );\n}\n\nexport default ChatBox;\n","/*    Table of moves component.    */\n\n// Setup.\nimport React from \"react\";\n\n// Styles.\nimport { ListGroup } from \"react-bootstrap\";\nimport \"../../styles/MyMoves.css\";\n\n// Main function.\nfunction MyMoves(props) {\n  return (\n    <ListGroup className=\"myListGroup\">\n      {props.turn === \"w\" ? (\n        <ListGroup.Item variant=\"light\">White to move.</ListGroup.Item>\n      ) : (\n        <ListGroup.Item variant=\"dark\">Black to move.</ListGroup.Item>\n      )}\n      <ListGroup.Item variant=\"info\" className=\"myMovesList\">\n        {props.moves}\n      </ListGroup.Item>\n    </ListGroup>\n  );\n}\n\nexport default MyMoves;\n","/*    Human vs. Stockfish    */\n\n// Setup.\nimport React, { useState, useEffect } from \"react\";\nimport Chess from \"chess.js\";\nimport Chessboard from \"chessboardjsx\";\nimport MyMoves from \"./MyMoves\";\n\n// Styles.\nimport \"../../styles/MyBoard.css\";\n\n// Variables.\nlet game;\nconst STOCKFISH = window.STOCKFISH;\n\nfunction HumanVsStockfish(props) {\n  // Hooks.\n  const [fen, setFen] = useState(\"start\");\n  const [history, setHistory] = useState([]);\n  const [moves, setMoves] = useState(\"\");\n  const [turn, setTurn] = useState(\"\");\n\n  // componentDidMount.\n  useEffect(() => {\n    game = Chess();\n    setFen(game.fen());\n\n    engineGame().prepareMove();\n  }, []);\n\n  // componentDidUpdate.\n  useEffect(() => {\n    setMoves(game.pgn());\n    setTurn(game.turn());\n  });\n\n  const handleDrop = ({ sourceSquare, targetSquare }) => {\n    const move = game.move({\n      from: sourceSquare,\n      to: targetSquare,\n      promotion: \"q\",\n    });\n\n    // Checks if move is illegal.\n    if (move === null) return;\n\n    return new Promise((resolve) => {\n      setFen(game.fen());\n      resolve();\n    }).then(() => engineGame().prepareMove());\n  };\n\n  // The whole engine configuration lies down here.\n  const engineGame = (options) => {\n    options = options || {};\n\n    let engine =\n      typeof STOCKFISH === \"function\"\n        ? STOCKFISH()\n        : new Worker(options.stockfishjs || \"stockfish.js\");\n\n    let evaler =\n      typeof STOCKFISH === \"function\"\n        ? STOCKFISH()\n        : new Worker(options.stockfishjs || \"stockfish.js\");\n\n    let engineStatus = {};\n    let time = { wtime: 3000, btime: 3000, winc: 1500, binc: 1500 };\n    let playerColor = \"black\"; // The engine is always white.\n    let clockTimeoutID = null;\n    let announced_game_over;\n\n    setInterval(function () {\n      if (announced_game_over) {\n        return;\n      }\n\n      if (game.game_over()) {\n        announced_game_over = true;\n      }\n    }, 500);\n\n    function uciCmd(cmd, which) {\n      (which || engine).postMessage(cmd);\n    }\n    uciCmd(\"uci\");\n\n    function clockTick() {\n      let t =\n        (time.clockColor === \"white\" ? time.wtime : time.btime) +\n        time.startTime -\n        Date.now();\n      let timeToNextSecond = (t % 1000) + 1;\n      clockTimeoutID = setTimeout(clockTick, timeToNextSecond);\n    }\n\n    function stopClock() {\n      if (clockTimeoutID !== null) {\n        clearTimeout(clockTimeoutID);\n        clockTimeoutID = null;\n      }\n      if (time.startTime > 0) {\n        let elapsed = Date.now() - time.startTime;\n        time.startTime = null;\n        if (time.clockColor === \"white\") {\n          time.wtime = Math.max(0, time.wtime - elapsed);\n        } else {\n          time.btime = Math.max(0, time.btime - elapsed);\n        }\n      }\n    }\n\n    function startClock() {\n      if (game.turn() === \"w\") {\n        time.wtime += time.winc;\n        time.clockColor = \"white\";\n      } else {\n        time.btime += time.binc;\n        time.clockColor = \"black\";\n      }\n      time.startTime = Date.now();\n      clockTick();\n    }\n\n    function get_moves() {\n      let moves = \"\";\n      let history = game.history({ verbose: true });\n\n      for (let i = 0; i < history.length; ++i) {\n        let move = history[i];\n        moves +=\n          \" \" + move.from + move.to + (move.promotion ? move.promotion : \"\");\n      }\n\n      return moves;\n    }\n\n    const prepareMove = () => {\n      stopClock();\n      // this.setState({ fen: game.fen() });\n      let turn = game.turn() === \"w\" ? \"white\" : \"black\";\n      if (!game.game_over()) {\n        // if (turn === playerColor) {\n        if (turn !== playerColor) {\n          // playerColor = playerColor === 'white' ? 'black' : 'white';\n          uciCmd(\"position startpos moves\" + get_moves());\n          uciCmd(\"position startpos moves\" + get_moves(), evaler);\n          uciCmd(\"eval\", evaler);\n\n          if (time && time.wtime) {\n            uciCmd(\n              \"go \" +\n                (time.depth ? \"depth \" + time.depth : \"\") +\n                \" wtime \" +\n                time.wtime +\n                \" winc \" +\n                time.winc +\n                \" btime \" +\n                time.btime +\n                \" binc \" +\n                time.binc\n            );\n          } else {\n            uciCmd(\"go \" + (time.depth ? \"depth \" + time.depth : \"\"));\n          }\n          // isEngineRunning = true;\n        }\n        if (game.history().length >= 2 && !time.depth && !time.nodes) {\n          startClock();\n        }\n      }\n    };\n\n    evaler.onmessage = function (event) {\n      let line;\n\n      if (event && typeof event === \"object\") {\n        line = event.data;\n      } else {\n        line = event;\n      }\n\n      // console.log('evaler: ' + line);\n\n      /// Ignore some output.\n      if (\n        line === \"uciok\" ||\n        line === \"readyok\" ||\n        line.substr(0, 11) === \"option name\"\n      ) {\n        return;\n      }\n    };\n\n    engine.onmessage = (event) => {\n      let line;\n\n      if (event && typeof event === \"object\") {\n        line = event.data;\n      } else {\n        line = event;\n      }\n      // console.log('Reply: ' + line);\n      if (line === \"uciok\") {\n        engineStatus.engineLoaded = true;\n      } else if (line === \"readyok\") {\n        engineStatus.engineReady = true;\n      } else {\n        let match = line.match(/^bestmove ([a-h][1-8])([a-h][1-8])([qrbn])?/);\n        /// Did the AI move?\n        if (match) {\n          // isEngineRunning = false;\n          game.move({ from: match[1], to: match[2], promotion: match[3] });\n          setFen(game.fen());\n          prepareMove();\n          uciCmd(\"eval\", evaler);\n          //uciCmd(\"eval\");\n          /// Is it sending feedback?\n        } else if (\n          (match = line.match(/^info .*\\bdepth (\\d+) .*\\bnps (\\d+)/))\n        ) {\n          engineStatus.search = \"Depth: \" + match[1] + \" Nps: \" + match[2];\n        }\n\n        /// Is it sending feed back with a score?\n        if ((match = line.match(/^info .*\\bscore (\\w+) (-?\\d+)/))) {\n          let score = parseInt(match[2], 10) * (game.turn() === \"w\" ? 1 : -1);\n          /// Is it measuring in centipawns?\n          if (match[1] === \"cp\") {\n            engineStatus.score = (score / 100.0).toFixed(2);\n            /// Did it find a mate?\n          } else if (match[1] === \"mate\") {\n            engineStatus.score = \"Mate in \" + Math.abs(score);\n          }\n\n          /// Is the score bounded?\n          if ((match = line.match(/\\b(upper|lower)bound\\b/))) {\n            engineStatus.score =\n              ((match[1] === \"upper\") === (game.turn() === \"w\")\n                ? \"<= \"\n                : \">= \") + engineStatus.score;\n          }\n        }\n      }\n      // displayStatus();\n    };\n\n    return {\n      start: function () {\n        uciCmd(\"ucinewgame\");\n        uciCmd(\"isready\");\n        engineStatus.engineReady = false;\n        engineStatus.search = null;\n        prepareMove();\n        announced_game_over = false;\n      },\n      prepareMove: function () {\n        prepareMove();\n      },\n    };\n  };\n\n  return props.children({\n    position: fen,\n    handleDrop,\n    moves,\n    turn,\n  });\n}\n\n// Main function.\nfunction MyEngineBoard(props) {\n  return (\n    <div className=\"myGamespace\">\n      <HumanVsStockfish {...props}>\n        {({ position, handleDrop, moves, turn }) => (\n          <div className=\"myChessboard\">\n            <Chessboard\n              id=\"stockfish\"\n              position={position}\n              width={550}\n              onDrop={handleDrop}\n              orientation=\"black\"\n              boardStyle={{\n                borderRadius: \"5px\",\n                boxShadow: `0 5px 15px rgba(0, 0, 0, 0.5)`,\n              }}\n            />\n\n            <MyMoves moves={moves} turn={turn}></MyMoves>\n          </div>\n        )}\n      </HumanVsStockfish>\n    </div>\n  );\n}\n\nexport default MyEngineBoard;\n","/*    Human vs. Human    */\n\n// Setup.\nimport React, { useState, useEffect } from \"react\";\nimport Chess from \"chess.js\";\nimport Chessboard from \"chessboardjsx\";\nimport MyMoves from \"./MyMoves\";\nimport io from \"socket.io-client\";\nimport { URL } from \"../../config\";\n\n// Styles.\nimport \"../../styles/MyBoard.css\";\nimport { Spinner } from \"react-bootstrap\";\n\n// Variables.\nlet roomId;\nlet socket;\nlet game;\nlet playerColor;\nconst CONNECTION_PORT = `${URL}`;\n\nfunction HumanVsHuman(props) {\n  // Hooks.\n  const [fen, setFen] = useState(\"start\");\n  const [dropSquareStyle, setDropSquareStyle] = useState({});\n  const [squareStyles, setSquareStyles] = useState({});\n  const [pieceSquare, setPieceSquare] = useState(\"\");\n  const [history, setHistory] = useState([]);\n  const [movesPGN, setMovesPGN] = useState(\"\");\n  const [turn, setTurn] = useState(\"w\");\n  const [orientation, setOrientation] = useState(\"\");\n  const [white, setWhite] = useState(\"\");\n  const [black, setBlack] = useState(\"\");\n  const [spectator, setSpectator] = useState([]);\n\n  // componentDidMount.\n  useEffect(() => {\n    game = Chess();\n    socket = io(CONNECTION_PORT);\n    roomId = props.match.params.id;\n    playerColor = props.match.params.color;\n\n    if (playerColor === \"w\" && white.length === 0) {\n      setOrientation(\"white\");\n      setWhite(props.loggedUser_id);\n      socket.emit(\"join_game\", { roomId, white: props.loggedUser._id });\n    } else if (playerColor === \"b\" && black.length === 0) {\n      setOrientation(\"black\");\n      setBlack(props.loggedUser_id);\n      socket.emit(\"join_game\", { roomId, black: props.loggedUser._id });\n    } else {\n      spectator.push(props.loggedUser._id);\n    }\n  }, []);\n\n  // componentDidUpdate.\n  useEffect(() => {\n    socket.on(\"receive_info\", (data) => {\n      setFen(data.position);\n      setMovesPGN(data.moves);\n      setTurn(data.turn);\n      game.load_pgn(data.moves);\n    });\n  });\n\n  // Keeps clicked square style and removes hint squares.\n  const removeHighlightSquare = () => {\n    setSquareStyles(squareStyling({ pieceSquare, history }));\n  };\n\n  // Shows possible moves.\n  const highlightSquare = (sourceSquare, squaresToHighlight) => {\n    const highlightStyles = [sourceSquare, ...squaresToHighlight].reduce(\n      (a, c) => {\n        return {\n          ...a,\n          ...{\n            [c]: {\n              background:\n                \"radial-gradient(circle, #fffc00 36%, transparent 40%)\",\n              borderRadius: \"50%\",\n            },\n          },\n          ...squareStyling({\n            history: history,\n            pieceSquare: pieceSquare,\n          }),\n        };\n      },\n      {}\n    );\n\n    setSquareStyles({ ...squareStyles, ...highlightStyles });\n  };\n\n  const handleDrop = ({ sourceSquare, targetSquare }) => {\n    if (playerColor !== game.turn()) {\n      return;\n    }\n\n    let move = game.move({\n      from: sourceSquare,\n      to: targetSquare,\n      promotion: \"q\", // Always promotes to a queen.\n    });\n\n    if (move === null) return;\n\n    setFen(game.fen());\n    setHistory(game.history({ verbose: true }));\n    setMovesPGN(game.pgn());\n    setTurn(game.turn());\n    setSquareStyles(squareStyling({ pieceSquare, history }));\n\n    socket.emit(\"send_game_info\", {\n      room: roomId,\n      moves: game.pgn(),\n      position: game.fen(),\n      turn: game.turn(),\n    });\n  };\n\n  const handleMouseOverSquare = (square) => {\n    // Gets list of possible moves for this square.\n    let moves = game.moves({\n      square: square,\n      verbose: true,\n    });\n\n    // Exits if there are no moves available for this square.\n    if (moves.length === 0) return;\n\n    let squaresToHighlight = [];\n\n    for (var i = 0; i < moves.length; i++) {\n      squaresToHighlight.push(moves[i].to);\n    }\n\n    highlightSquare(square, squaresToHighlight);\n  };\n\n  const handleMouseOutSquare = (square) => removeHighlightSquare(square);\n\n  // Central squares get diferents `dropSquareStyles`.\n  const handleDragOverSquare = (square) => {\n    setDropSquareStyle(\n      square === \"e4\" || square === \"d4\" || square === \"e5\" || square === \"d5\"\n        ? { backgroundColor: \"cornFlowerBlue\" }\n        : { boxShadow: \"inset 0 0 1px 4px rgb(255, 255, 0)\" }\n    );\n  };\n\n  const handleSquareRightClick = (square) =>\n    setSquareStyles({ [square]: { backgroundColor: \"deepPink\" } });\n\n  // Loading spinner.\n  if (!props.loggedUser) {\n    return (\n      <Spinner animation=\"border\" role=\"status\" variant=\"light\">\n        <span className=\"sr-only\">Loading...</span>\n      </Spinner>\n    );\n  }\n\n  return props.children({\n    position: fen,\n    handleMouseOverSquare,\n    handleMouseOutSquare,\n    handleDrop,\n    handleSquareRightClick,\n    handleDragOverSquare,\n    dropSquareStyle,\n    squareStyles,\n    moves: movesPGN,\n    turn,\n    orientation,\n  });\n}\n\n// Main function.\nfunction MyHumanBoard(props) {\n  return (\n    <HumanVsHuman {...props}>\n      {({\n        position,\n        handleDrop,\n        handleMouseOverSquare,\n        handleMouseOutSquare,\n        handleDragOverSquare,\n        handleSquareRightClick,\n        squareStyles,\n        dropSquareStyle,\n        moves,\n        turn,\n        orientation,\n      }) => (\n        <div className=\"myChessboard\">\n          <Chessboard\n            id=\"HumanVsHuman\"\n            width={550}\n            orientation={orientation}\n            position={position}\n            onDrop={handleDrop}\n            onMouseOverSquare={handleMouseOverSquare}\n            onMouseOutSquare={handleMouseOutSquare}\n            onSquareRightClick={handleSquareRightClick}\n            onDragOverSquare={handleDragOverSquare}\n            squareStyles={squareStyles}\n            dropSquareStyle={dropSquareStyle}\n            boardStyle={{\n              borderRadius: \"5px\",\n              boxShadow: `0 5px 15px rgba(0, 0, 0, 0.5)`,\n            }}\n          />\n\n          <div className=\"movesAndButton\">\n            <MyMoves moves={moves} turn={turn}></MyMoves>\n          </div>\n        </div>\n      )}\n    </HumanVsHuman>\n  );\n}\n\n// Square styling.\nconst squareStyling = ({ pieceSquare, history }) => {\n  const sourceSquare = history.length && history[history.length - 1].from;\n  const targetSquare = history.length && history[history.length - 1].to;\n\n  return {\n    [pieceSquare]: { backgroundColor: \"rgba(255, 255, 0, 0.4)\" },\n    ...(history.length && {\n      [sourceSquare]: {\n        backgroundColor: \"rgba(255, 255, 0, 0.4)\",\n      },\n    }),\n    ...(history.length && {\n      [targetSquare]: {\n        backgroundColor: \"rgba(255, 255, 0, 0.4)\",\n      },\n    }),\n  };\n};\n\nexport default MyHumanBoard;\n","/*    Game room.    */\n\n// Setup.\nimport React from \"react\";\nimport ChatBox from \"./ChatBox\";\nimport MyEngineBoard from \"./chess/MyEngineBoard\";\nimport MyHumanBoard from \"./chess/MyHumanBoard\";\n\n// Styles.\nimport { Spinner } from \"react-bootstrap\";\nimport \"../styles/Game.css\";\n\n// Main function.\nfunction Game(props) {\n  // Loading spinner.\n  if (!props.loggedUser) {\n    return (\n      <Spinner animation=\"border\" role=\"status\" variant=\"light\">\n        <span className=\"sr-only\">Loading...</span>\n      </Spinner>\n    );\n  }\n\n  return props.match.path === \"/stockfish\" ? (\n    <div>\n      <MyEngineBoard />\n    </div>\n  ) : (\n    <div className=\"myGame\">\n      <ChatBox loggedUser={props.loggedUser} {...props} />\n      <MyHumanBoard loggedUser={props.loggedUser} {...props} />\n    </div>\n  );\n}\n\nexport default Game;\n","/*    Private profile.    */\n\n// Setup.\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { API_URL } from \"../../config\";\n\n// Styles.\nimport { Spinner, Card, ListGroup, Button } from \"react-bootstrap\";\nimport \"../../styles/Profile.css\";\n\n// Main function.\nfunction PrivateProfile(props) {\n  const [games, setGames] = useState([]);\n\n  // componentDidMount.\n  useEffect(() => {\n    axios.get(`${API_URL}/games`, { withCredentials: true }).then((res) => {\n      setGames(res.data);\n      console.log(res.data);\n    });\n  }, []);\n\n  // Loading spinner.\n  if (!games.length) {\n    return (\n      <Spinner animation=\"border\" role=\"status\" variant=\"light\">\n        <span className=\"sr-only\">Loading...</span>\n      </Spinner>\n    );\n  }\n\n  return (\n    <div className=\"myProfile\">\n      <Card style={{ width: \"400px\" }}>\n        <Card.Img variant=\"top\" src={props.loggedUser.image} />\n        <Card.Body>\n          <Card.Title>{props.loggedUser.username}</Card.Title>\n          <Card.Text>{props.loggedUser.about}</Card.Text>\n          <Link to=\"/edit\">\n            <Button variant=\"primary\">Edit</Button>\n          </Link>\n        </Card.Body>\n      </Card>\n\n      <div className=\"myGamesList\">\n        {games.map((game) => {\n          return (\n            <div className=\"myGameInfoContainer\">\n              <ListGroup>\n                <ListGroup.Item>\n                  <div className=\"myGameInfo\">\n                    <p>\n                      <b>Id:</b> {game.roomId}\n                    </p>\n                    <p>\n                      <b>White:</b> {game.white}\n                    </p>\n                    <p>\n                      <b>Black:</b> {game.black ? game.black : \"N/A\"}\n                    </p>\n                    <p>\n                      <b>Moves:</b> {game.movetext}\n                    </p>\n                  </div>\n                </ListGroup.Item>\n              </ListGroup>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default PrivateProfile;\n","/*    Edit profile.    */\n\n// Setup.\nimport React from \"react\";\n\n// Styles.\nimport { Button, Form, Spinner } from \"react-bootstrap\";\nimport \"../../styles/Auth.css\";\n\n// Main function.\nfunction Edit(props) {\n  // Loading spinner.\n  if (!props.loggedUser) {\n    return (\n      <Spinner animation=\"border\" role=\"status\" variant=\"light\">\n        <span className=\"sr-only\">Loading...</span>\n      </Spinner>\n    );\n  }\n\n  return (\n    <div className=\"myFormContainer\">\n      <Form onSubmit={props.onSubmit}>\n        <Form.Group>\n          <Form.File\n            name=\"image\"\n            id=\"formBasicFile\"\n            label=\"Example file input\"\n          />\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicAbout\">\n          <Form.Label>About</Form.Label>\n          <Form.Control\n            name=\"about\"\n            type=\"text\"\n            placeholder=\"Enter something about yourself\"\n          />\n        </Form.Group>\n\n        <Button variant=\"primary\" type=\"submit\">\n          Submit\n        </Button>\n      </Form>\n    </div>\n  );\n}\n\nexport default Edit;\n","/*    App.    */\n\n// Setup.\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Switch, Route, withRouter } from \"react-router-dom\";\nimport { API_URL } from \"../config\";\n\n// Components.\nimport MyNavbar from \"./MyNavbar\";\nimport Home from \"./Home\";\nimport Signin from \"./auth/Signin\";\nimport Signup from \"./auth/Signup\";\nimport Game from \"./Game\";\nimport PrivateProfile from \"./user/PrivateProfile\";\nimport Edit from \"./user/Edit\";\n\n// Styles\nimport \"../styles/App.css\";\n\n// Main function.\nfunction App(props) {\n  const [loggedUser, setLoggedUser] = useState(null);\n  const [errorMsg, setErrorMsg] = useState(null);\n\n  // componentDidMount.\n  useEffect(() => {\n    if (!loggedUser) {\n      axios.get(`${API_URL}/user`, { withCredentials: true }).then((res) => {\n        setLoggedUser(res.data);\n      });\n    }\n  }, []);\n\n  // Sign up.\n  const handleSignup = (e) => {\n    e.preventDefault();\n\n    const { username, email, password } = e.target;\n\n    axios\n      .post(\n        `${API_URL}/signup`,\n        {\n          username: username.value,\n          email: email.value,\n          password: password.value,\n        },\n        { withCredentials: true }\n      )\n      .then((res) => {\n        setLoggedUser(res.data);\n        props.history.push(\"/\");\n      })\n      .catch((err) => {\n        setErrorMsg(err.response.data.error);\n      });\n  };\n\n  // Sign in.\n  const handleSignin = (e) => {\n    e.preventDefault();\n\n    const { email, password } = e.target;\n\n    axios\n      .post(\n        `${API_URL}/signin`,\n        {\n          email: email.value,\n          password: password.value,\n        },\n        { withCredentials: true }\n      )\n      .then((res) => {\n        setLoggedUser(res.data);\n        props.history.push(\"/\");\n      })\n      .catch((err) => {\n        setErrorMsg(err.response.data.error);\n      });\n  };\n\n  // Log out.\n  const handleLogout = (e) => {\n    axios.post(`${API_URL}/logout`, {}, { withCredentials: true }).then(() => {\n      setLoggedUser(null);\n      props.history.push(\"/\");\n    });\n  };\n\n  // Edit profile.\n  const handleEdit = (e) => {\n    e.preventDefault();\n    const { about, image } = e.target;\n    let imageFile = image.files[0];\n\n    let uploadForm = new FormData();\n    uploadForm.append(\"imageUrl\", imageFile);\n\n    axios.post(`${API_URL}/upload`, uploadForm).then((response) => {\n      let newInfo = {\n        about: about.value,\n        image: response.data.image,\n      };\n\n      axios\n        .patch(`${API_URL}/edit`, newInfo, { withCredentials: true })\n        .then((response) => {\n          console.log(\"This is edit response!\", response.data);\n          setLoggedUser(response.data);\n          props.history.push(`/private/${loggedUser._id}`);\n        });\n    });\n  };\n\n  // Unmounts `errorMsg`.\n  const handleUnmount = () => {\n    setErrorMsg(null);\n  };\n\n  return (\n    <div className=\"myApp\">\n      <header>\n        <MyNavbar loggedUser={loggedUser} onLogout={handleLogout} />\n      </header>\n\n      <main>\n        <Switch>\n          {/* Home. */}\n          <Route\n            exact\n            path=\"/\"\n            render={() => {\n              return <Home loggedUser={loggedUser} />;\n            }}\n          />\n\n          {/* Sign in. */}\n          <Route\n            path=\"/signin\"\n            render={(routeProps) => {\n              return (\n                <Signin\n                  onUnmount={handleUnmount}\n                  errorMsg={errorMsg}\n                  onSignin={handleSignin}\n                  {...routeProps}\n                />\n              );\n            }}\n          />\n\n          {/* Sign up. */}\n          <Route\n            path=\"/signup\"\n            render={(routeProps) => {\n              return (\n                <Signup\n                  onUnmount={handleUnmount}\n                  errorMsg={errorMsg}\n                  onSignup={handleSignup}\n                  {...routeProps}\n                />\n              );\n            }}\n          />\n\n          {/* Private profile. */}\n          <Route\n            path=\"/private/:id\"\n            render={() => {\n              return <PrivateProfile loggedUser={loggedUser} />;\n            }}\n          />\n\n          <Route\n            path=\"/edit\"\n            render={() => {\n              return <Edit loggedUser={loggedUser} onSubmit={handleEdit} />;\n            }}\n          />\n\n          {/* Public profile. */}\n          <Route\n            path=\"/public/:id\"\n            render={() => {\n              return <PublicProfile loggedUser={loggedUser} />;\n            }}\n          />\n\n          {/* Game. */}\n          <Route\n            path=\"/stockfish\"\n            render={(routeProps) => {\n              return <Game loggedUser={loggedUser} {...routeProps} />;\n            }}\n          />\n\n          <Route\n            exact\n            path=\"/game/:id/:color\"\n            render={(routeProps) => {\n              return <Game loggedUser={loggedUser} {...routeProps} />;\n            }}\n          />\n        </Switch>\n      </main>\n    </div>\n  );\n}\n\nexport default withRouter(App);\n","/*    index.js    */\n\n// Setup.\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./components/App\";\n\n// Styles.\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\n\n// Rendering function.\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}